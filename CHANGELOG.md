# Changelog

## 3.1.0 (2018-11-25)

- **Feature**
  - WARC parsing via a transform stream 
  - WARC parsing via async iteration (Node v10+)
  - WARC generator for the request library  (@hyl, [#15](https://github.com/N0taN3rd/node-warc/pull/15)) 
  - Gzipped WARC generation for all WARC generators (@hyl, [#13](https://github.com/N0taN3rd/node-warc/pull/13)) 
  - Puppeteer request capturer and WARC generator
  - Puppeteer CDP session request capturer and WARC generator
  - Added additional method to WARC generators to streamline WARC creation
  - Added additional convince methods to `WARCWriterBase` for record generation
  - Ability to add `WARC-Warcinfo-id` to records that field is allowed on (@BubuAnabelas, [#7](https://github.com/N0taN3rd/node-warc/pull/7)) 
  - Added typescript definition file (@hyl, [#13](https://github.com/N0taN3rd/node-warc/pull/13))
- **Fixes**
  - WARCs generated by node-warc are no longer considered invalid by openwayback/jwat-tools
  - `WARC-Concurrent-To` field is no longer missing on records it is expected to exist on (@BubuAnabelas, [#21](https://github.com/N0taN3rd/node-warc/pull/21))
- **Breaking Changes**
  - The default export is no longer `AutoWARCParser` but an object containing all primary classes provided by node-warc
  - WARC parsing has been completely reworked:
    - `node-warc/lib/warcRecordBuilder` has been removed
    - `node-warc/lib/warcRecords` has been renamed to `node-warc/lib/warcRecord`
    - Removed all WARC record type specific classes in favor of a generic WARC record class (`node-warc/lib/warcRecord/record`)
    - Consolidated and generified WARC record building (`node-warc/lib/warcRecord/builder`)
  - Request capturers no longer accept a `navMan` ([Squidwarc](https://github.com/N0taN3rd/Squidwarc) remnant)
